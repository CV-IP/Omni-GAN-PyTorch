make_hdf5_ImageNet128:
  dataset: I128
  batch_size: 256
  num_workers: 12
  data_root: "~/ZhouPeng/dataset/ILSVRC/Data/CLS-LOC/train"
  index_filename: 'datasets/BigGAN-PyTorch-1-exp/I128_index.npz'
  saved_hdf5: "datasets/BigGAN-PyTorch-1-exp/ILSVRC128.hdf5"

calculate_inception_moments_ImageNet128:
  dataset: I128_hdf5
  data_root: "datasets/BigGAN-PyTorch-1-exp/ILSVRC128.hdf5"
  num_workers: 8
  batch_size: 512
  parallel: true
  saved_inception_moments: "datasets/BigGAN-PyTorch-1-exp/I128_inception_moments.npz"

train_cifar10:
  args:
    shuffle: true
#    batch_size: 50
    batch_size: 32
    dataset: C10
    use_data_root: true
    data_root: "datasets/cifar10"
    num_workers: 0
    num_G_accumulations: 1
    num_D_accumulations: 1
    num_epochs: 500
    num_D_steps: 4
    G_ch: 64
    D_ch: 64
    G_lr: 2.e-4
    D_lr: 2.e-4
    G_ortho: 0.0
    G_attn: '0'
    D_attn: '0'
    G_init: N02
    D_init: N02
    ema: true
    use_ema: true
    ema_start: 1000
    test_every: 5000000
#    test_every: 500
    save_every: 2000
    num_best_copies: 1
    num_save_copies: 1
    seed: 0
  val_dataloader:
    dataset_kwargs:
      train: false
    use_training_sampler: true
  test_every_epoch: 10
  GAN_metric:
    name: TFFIDISScore
    tf_fid_stat: "datasets/tf_fid_stat/\
      fid_stats_tf_cifar10_train_32.npz"
    tf_inception_model_dir: "datasets/tf_inception_model"
#    num_inception_images: 500
    num_inception_images: 50000


train_cifar100:
  base:
    - train_cifar10
  args:
    dataset: C100
    data_root: "datasets/cifar100"
  GAN_metric:
    name: TFFIDISScore
    tf_fid_stat: "datasets/tf_fid_stat/\
      fid_stats_tf_cifar100_train_32.npz"
    tf_inception_model_dir: "datasets/tf_inception_model"
#    num_inception_images: 500
    num_inception_images: 50000


save_D_logits_and_FID_cifar100:
  logits_file:
    real: textdir/train.D_loss.D_real.log
    generated: textdir/train.D_loss.D_fake.log
    validation: textdir/train.D_loss.D_val.log
  colors:
    - green
    - blue_violet
    - black
  sample_interval: 100
#  sample_interval: 5
#  max_iter: 30000
  fid_file: textdir/evaltf.ma0.FID_tf.log
  fid_color: red
  suffix: 'pdf'
#  suffix: 'png'
  fontsize:
    xy_label: 20
  ylim:
    - -25
    - 350
  exps:
    biggan_cifar100:
      results_dir: "results/CIFAR10/train_cifar100_\
      20201002-19_37_05_825"
      iter_per_epoch: 390
      anno_offset:
        - 20000
        - -5
    biggan_weight_decay_cifar100:
      results_dir: "results/CIFAR10/train_cifar100_weight_decay_\
      20201004-11_57_49_873"
      iter_per_epoch: 390
      anno_offset:
        - -20000
        - -5


train_cifar100_weight_decay:
  base:
    - train_cifar100
  args:
    model: "exp.biggan.BigGAN"
  Discriminator:
#    weight_decay: 0.0005
    weight_decay: 0.0001

